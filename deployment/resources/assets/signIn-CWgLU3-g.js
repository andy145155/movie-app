import{u as f,r,U as v,j as e,P as l}from"./index-CTP4-05Q.js";import{b as h,T as b,I as c}from"./input-DNvPMUtx.js";import{B as j}from"./button-CcWOtIlM.js";import{s as N}from"./auth-BPi0zGVC.js";import{g as S}from"./apis-Bx2pEyGk.js";import"./index-CXhrj9mw.js";function C(){const a=f(),[o,m]=r.useState(""),{user:n,setUserEmail:d,setUserLoggedIn:x,setRecommenedMovies:g,setSelectedMovies:p}=r.useContext(v),u=async t=>{t.preventDefault();const i=await N({username:n.email,password:o});i!=null&&i.isSignedIn&&S({email:n.email}).then(s=>{x(!0),(!s||!s.selectedMovies||s.selectedMovies.length===0)&&a(l.SELECT_MOVIES),s&&(g(s.recommendedMovies),p(s.selectedMovies),a(l.HOME))})};return e.jsx("div",{className:"bg-cover",style:{backgroundImage:`url(${h})`},children:e.jsxs("div",{className:"bg-black bg-opacity-40 bg-gradient-to-t from-black via-transparent to-black",children:[e.jsx(b,{}),e.jsx("div",{className:"flex justify-center items-center h-content",children:e.jsx("div",{className:"bg-black/[.75] text-white p-16",children:e.jsxs("form",{className:"flex flex-col gap-y-4",onSubmit:u,children:[e.jsx("h1",{className:"text-3xl font-semibold text-left",children:"Sign In"}),e.jsx(c,{type:"email",className:"w-64",placeholder:"Email",onChange:t=>d(t.target.value),value:n.email}),e.jsx(c,{type:"password",className:"w-64",placeholder:"Password",onChange:t=>m(t.target.value),value:o}),e.jsx(j,{className:"rounded-md",type:"submit",children:"Sign In"}),e.jsxs("h4",{className:"text-sm flex gap-x-2 font-semibold",children:[e.jsx("span",{className:"text-gray-500",children:"New to Netflix?"}),e.jsx("span",{className:"hover:cursor-pointer",onClick:()=>a("/register"),children:"Sign up now"})]})]})})})]})})}export{C as default};
